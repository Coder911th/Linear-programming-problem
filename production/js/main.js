var global=webpackJsonpglobal([1],{131:function(e,t,i){var r=i(31);e.exports=function(e){var t,i="",o=e||{};return function(e,n,o,a,l,s){switch(l){case"row":for(let e=0;e<a-1;e++)i=i+'<input type="text" placeholder="0"'+r.attr("size",s,!0,!0)+"><span>x<sub>"+r.escape(null==(t=e+1)?"":t)+"</sub></span>",e!==a-2&&(i+="<span>+</span>");i=i+'<span>=</span><input type="text" placeholder="0"'+r.attr("size",s,!0,!0)+">";break;case"table":i+="<div>";for(let o=0;o<a-1;o++)i=i+'<input type="text"'+r.attr("placeholder",e&&"0",!0,!0)+r.attr("size",s,!0,!0)+r.attr("value",n&&n[0][o],!0,!0)+"><span>x<sub>"+r.escape(null==(t=o+1)?"":t)+"</sub></span>",i+=o===a-2?"<span>--\x3e</span>":"<span>+</span>";let u=["min","max"];i+='<select type="select-one">',function(){var e=u;if("number"==typeof e.length)for(var o=0,l=e.length;o<l;o++){var s=e[o];i=i+"<option"+(r.attr("value",s,!0,!0)+r.attr("selected",n&&s===n[0][a-1],!0,!0))+">"+r.escape(null==(t=s)?"":t)+"</option>"}else{l=0;for(var o in e)l++,s=e[o],i=i+"<option"+(r.attr("value",s,!0,!0)+r.attr("selected",n&&s===n[0][a-1],!0,!0))+">"+r.escape(null==(t=s)?"":t)+"</option>"}}.call(this),i+="</select></div>";for(let l=1;l<o;l++){i+="<div>";for(let o=0;o<a-1;o++)i=i+'<input type="text"'+r.attr("placeholder",e&&"0",!0,!0)+r.attr("size",s,!0,!0)+r.attr("value",n&&n[l][o],!0,!0)+"><span>x<sub>"+r.escape(null==(t=o+1)?"":t)+"</sub></span>",o!==a-2&&(i+="<span>+</span>");i=i+'<span>=</span><input type="text"'+r.attr("placeholder",e&&"0",!0,!0)+r.attr("size",s,!0,!0)+r.attr("value",n&&n[l][a-1],!0,!0)+"></div>"}}}.call(this,"configurable"in o?o.configurable:"undefined"!=typeof configurable?configurable:void 0,"data"in o?o.data:"undefined"!=typeof data?data:void 0,"m"in o?o.m:"undefined"!=typeof m?m:void 0,"n"in o?o.n:"undefined"!=typeof n?n:void 0,"object"in o?o.object:"undefined"!=typeof object?object:void 0,"size"in o?o.size:"undefined"!=typeof size?size:void 0),i}},132:function(e,t,i){var r=i(31);e.exports=function(e){var t,i="",o=e||{};return function(e){i=i+"x<sub>i</sub> ⩾ 0, i = 1, ..., "+r.escape(null==(t=e-1)?"":t)}.call(this,"n"in o?o.n:"undefined"!=typeof n?n:void 0),i}},31:function(e,t,n){"use strict";function i(e,t){if(1===arguments.length){for(var n=e[0],r=1;r<e.length;r++)n=i(n,e[r]);return n}for(var a in t)if("class"===a){var l=e[a]||[];e[a]=(Array.isArray(l)?l:[l]).concat(t[a]||[])}else if("style"===a){l=o(e[a]);var s=o(t[a]);e[a]=l+s}else e[a]=t[a];return e}function r(e,t){return Array.isArray(e)?function(e,t){for(var n,i="",o="",a=Array.isArray(t),s=0;s<e.length;s++)(n=r(e[s]))&&(a&&t[s]&&(n=l(n)),i=i+o+n,o=" ");return i}(e,t):e&&"object"==typeof e?function(e){var t="",n="";for(var i in e)i&&e[i]&&u.call(e,i)&&(t=t+n+i,n=" ");return t}(e):e||""}function o(e){if(!e)return"";if("object"==typeof e){var t="";for(var n in e)u.call(e,n)&&(t=t+n+":"+e[n]+";");return t}return";"!==(e+="")[e.length-1]?e+";":e}function a(e,t,n,i){return!1!==t&&null!=t&&(t||"class"!==e&&"style"!==e)?!0===t?" "+(i?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),n||-1===t.indexOf('"'))?(n&&(t=l(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}function l(e){var t=""+e,n=f.exec(t);if(!n)return e;var i,r,o,a="";for(i=n.index,r=0;i<t.length;i++){switch(t.charCodeAt(i)){case 34:o="&quot;";break;case 38:o="&amp;";break;case 60:o="&lt;";break;case 62:o="&gt;";break;default:continue}r!==i&&(a+=t.substring(r,i)),r=i+1,a+=o}return r!==i?a+t.substring(r,i):a}function s(e,t,i,r){if(!(e instanceof Error))throw e;if(!("undefined"==typeof window&&t||r))throw e.message+=" on line "+i,e;try{r=r||n(342).readFileSync(t,"utf8")}catch(t){s(e,null,i)}var o=3,a=r.split("\n"),l=Math.max(i-o,0),u=Math.min(a.length,i+o);o=a.slice(l,u).map(function(e,t){var n=t+l+1;return(n==i?"  > ":"    ")+n+"| "+e}).join("\n");throw e.path=t,e.message=(t||"Pug")+":"+i+"\n"+o+"\n\n"+e.message,e}var u=Object.prototype.hasOwnProperty;t.merge=i,t.classes=r,t.style=o,t.attr=a,t.attrs=function(e,t){var n="";for(var i in e)if(u.call(e,i)){var l=e[i];if("class"===i){n=a(i,l=r(l),!1,t)+n;continue}"style"===i&&(l=o(l)),n+=a(i,l,!1,t)}return n};var f=/["&<>]/;t.escape=l,t.rethrow=s},336:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n(337),n(338),n(339);var r=i(n(92)),o=i(n(93)),a=i(n(94)),l=document.getElementById("solution-wrap");window.views=new o.default(new a.default(!0,3,5,2,[["1","2","3","-1","max"],["1","-3","-1","-2","-4"],["1","-1","1","0","0"]]).into(l)),new r.default(window.views[0].n-1)},337:function(e,t){},338:function(e,t,n){"use strict";document.addEventListener("mousedown",function(e){var t=e.target;t instanceof HTMLInputElement==!1&&t instanceof HTMLSelectElement==!1&&e.preventDefault()},!1)},339:function(e,t,n){"use strict";n(340);var i=function(e){return e&&e.__esModule?e:{default:e}}(n(91)),r=document.getElementById("creeper"),o=document.getElementById("my-basis"),a=null,l=void 0;r.onmousedown=function(e){l=document.getElementById("rangebar").getBoundingClientRect().left,a=e.pageX-r.getBoundingClientRect().left},document.addEventListener("mousemove",function(e){if(null!==a){var t=e.pageX-l-a;t>=0&&t<=190&&(r.style.left=t+"px",window.views.forEach(function(e){"string"!=typeof e&&e.resize(Math.floor(t/5+1))}))}},!1),document.addEventListener("mouseup",function(){return a=null},!1),document.getElementById("personal-basis").onclick=function(){return o.classList.remove("hidden")},document.getElementById("artificial-base-method").onclick=function(){return o.classList.add("hidden")};var s=document.getElementById("load"),u=document.getElementById("save");s.onclick=function(){i.default.waiting(),fetch("/files-list").then(function(e){if(200!=e.status)throw e;return e.json()}).then(function(e){e.message?i.default.showMessage(e.message):i.default.openFileLoadView(e.files)}).catch(function(e){e.status?i.default.showMessage(e.status+": "+e.statusText):i.default.showMessage(e.toString())})},u.onclick=i.default.openFileSaveView},340:function(e,t){},341:function(e,t,n){var i=n(31);e.exports=function(e){var t,n="",r=e||{};return function(e){for(let r of e)n=n+'<div class="file">'+i.escape(null==(t=r)?"":t)+"</div>"}.call(this,"files"in r?r.files:"undefined"!=typeof files?files:void 0),n}},342:function(e,t){},343:function(e,t,i){var r=i(31);e.exports=function(e){var t,i="",o=e||{};return function(e){for(let n=0;n<e;n++)i=i+'<label><input type="checkbox"'+r.attr("name",`b${n+1}`,!0,!0)+">x<sub>"+r.escape(null==(t=n+1)?"":t)+"</sub></label>"}.call(this,"n"in o?o.n:"undefined"!=typeof n?n:void 0),i}},344:function(e,t){},345:function(e,t){},346:function(e,t,n){var i=n(31);e.exports=function(e){var t,r="",o=e||{};return function(o){r=r+'<fieldset class="InputView"'+i.attr("disabled",!o,!0,!0)+"><div>"+(null==(t=n(131).call(this,e))?"":t)+"</div>",o&&(r+='<div><canvas class="arrow left" width="50" height="20"></canvas><canvas class="arrow right" width="50" height="20"></canvas><canvas class="arrow up" width="50" height="20"></canvas><canvas class="arrow down" width="50" height="20"></canvas></div>'),r=r+"<div>"+(null==(t=n(132).call(this,e))?"":t)+"</div></fieldset>"}.call(this,"configurable"in o?o.configurable:"undefined"!=typeof configurable?configurable:void 0),r}},347:function(e,t,n){"use strict";function i(e){e.beginPath(),e.moveTo(0,5),e.lineTo(30,5),e.lineTo(30,0),e.lineTo(50,10),e.lineTo(30,20),e.lineTo(30,15),e.lineTo(0,15),e.closePath(),e.fill()}Object.defineProperty(t,"__esModule",{value:!0}),t.addArrow=function(e){var t=e.getContext("2d"),n=r.length;r.push(t),o.push(!1),t.fillStyle=a,i(t),e.addEventListener("mousedown",function(){t.fillStyle=l,i(t),o[n]=!0},!1)},t.removeArrow=function(e){var t=e.getContext("2d");r.forEach(function(n,i){n===t&&(r.splice(i,1),o.splice(i,1),e.parentElement.removeChild(e))})};var r=[],o=[],a="#AB3030",l="#753838";document.addEventListener("mouseup",function(){o.forEach(function(e,t){e&&(r[t].fillStyle=a,i(r[t]),o[t]=!1)})},!1)},348:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t,n){for(var i=n.length,r=t.length,o=[],a=1;a<=i+r;a++){var l=t.indexOf(a);l>-1?o.push(e[l][i]):o.push(0)}return"Задача решена! f("+o.join(", ")+") = "+(y?-e[r][i]:e[r][i])}function a(e,t,n){var i=u.default.getReferenceElements(e.left.length+1,e.top.length+1,e.data,e.left,n,p[0].n-1),r=null;switch(i.code){case 1:r=y?"Линейная форма неограничена сверху!":"Линейная форма неограничена снизу!";break;case 2:n||(r=o(e.data,e.left,e.top));break;case 3:r=n?"Система несовместна!":o(e.data,e.left,e.top);break;case 4:n&&(r="Задача неразрешима! Нет возможности выполнить холостой шаг.")}if(p.push(new u.default(n,t,e.data,e.top,e.left,p[0].size,i,r).into(w)),r&&(b.value="ВЫЙТИ",E.disabled=!0),2==i.code&&n){var l=e.data.slice(0,e.data.length-1);p.push(new f.default(l,e.top,e.left,m).into(w)),a({data:l.concat([p.top.bottomRow]),left:e.left,top:e.top},0,!1)}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,l=e[Symbol.iterator]();!(i=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&l.return&&l.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=function(e){p=window.views,e.view.disabled=!0,e.removeArrowsHandlers(),g.classList.add("hide"),w.classList.add("solving"),b.value="ВЫЙТИ",E.disabled=!1;var t=e.getData(!0),n=e.m,i=e.n,o=t[0].length-1;if("max"===t[0][o]){y=!1;for(var l=0;l<t[0].length-1;l++)t[0][l]=t[0][l].mul(d.default.minusOne);t[0][o]=t[0][o]="min"}for(var u=0;u<n;u++)if(t[u][i-1]<0)for(var v=0;v<i;v++)t[u][v]=t[u][v].mul(d.default.minusOne);if(p.push(new s.default(!1,n,i,e.size,t).into(w)),m=t.splice(0,1)[0],"МИБ"===document.forms.settings.basis.value){for(var k=[],x=[],L=[],M=1;M<i;M++)k.push(M);for(var _=i;_<i+n-1;_++)x.push(_);for(var C=0;C<i;C++){for(var O=d.default.zero,S=0;S<n-1;S++)O=O.add(t[S][C]);L.push(O.mul(d.default.minusOne))}t.push(L),a({data:t,left:x,top:k},0,!0)}else{p.push(new c.default(t).into(w));for(var T=[],j=[],z=[],I=document.forms.settings,P=0;P<i-1;P++)I["b"+(P+1)].checked?T.push(P+1):j.push(P+1);var A=[],B=void 0,H=0,R=t.length,V=t[0].length,F=void 0,D=void 0,N=void 0,q=!0,J=!1,Z=void 0;try{for(var $,X=t[Symbol.iterator]();!(q=($=X.next()).done);q=!0){var G=$.value;A.push(Array.from(G))}}catch(e){J=!0,Z=e}finally{try{!q&&X.return&&X.return()}finally{if(J)throw Z}}for(D=0;D<T.length;D++){var K=T[D]-1;for(F=H;F<R&&A[F][K].isZero;F++);if(F!==R){var Q=[A[F],A[H]];for(A[H]=Q[0],A[F]=Q[1],B=A[H][K],F=0;F<V;F++)A[H][F]=A[H][F].div(B);for(F=0;F<R;F++)if(F!==H)for(B=A[F][K],N=0;N<V;N++)A[F][N]=A[F][N].sub(B.mul(A[H][N]));H++,p.push(new c.default(A).into(w))}else{if(0==j.length)return h.default.showMessage("Система линейно зависима! Пожалуйста, введите линейно независимую систему!"),b.value="ВЫЙТИ",void(E.disabled=!0);z.push.apply(z,r(T.splice(D,1,j.shift()))),D--}}j=j.concat(z),t=[];for(var U=0;U<T.length;U++){for(var W=[],Y=0;Y<j.length;Y++)W.push(A[U][j[Y]-1]);W.push(A[U][V-1]),t.push(W)}p.push(new f.default(t,j,T,m).into(w)),a({data:t.concat([p.top.bottomRow]),left:T,top:j},0,!1),p.top.view.scrollIntoView(!1)}if(!document.forms.settings.step_to_step.checked)for(var ee=document.querySelector(".reference-element"),te=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});ee;)ee.dispatchEvent(te),ee=document.querySelector(".reference-element")};var s=i(n(94)),u=i(n(349)),f=i(n(352)),c=i(n(355)),d=i(n(64)),v=n(95),h=(i(n(93)),i(n(91))),p=void 0,m=void 0,y=!1,w=document.getElementById("solution-wrap"),g=document.querySelector(".toolbar"),b=document.getElementById("prev"),E=document.getElementById("auto");b.onclick=function(){if("ВЫЙТИ"==b.value)w.innerHTML="",p.replace(new s.default(p[0]).into(w)),g.classList.remove("hide"),w.classList.remove("solving");else{w.removeChild(p.pop().view);var e=p.top;e instanceof f.default&&(w.removeChild(p.pop().view),w.removeChild(p.pop().view),e=p.top),w.removeChild(p.pop().view),a(e,e.step,e.lookBasis),3===p.length&&(b.value="ВЫЙТИ"),p.top.view.scrollIntoView(!1)}},E.onclick=function(){var e=document.querySelectorAll(".reference-element");e[Math.floor(e.length*Math.random())].dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window}))},w.onclick=function(e){if(e.target.classList.contains("reference-element")){var t=e.target,n=t.dataset.indexes.split(","),i=l(n,2),r=i[0],o=i[1];(0,v.SimplexTable)(p.top.view.firstElementChild,function(e,t,n){e.classList.remove("reference-element"),t==r?e.classList.add("selected-element"):n==o&&e.classList.add("selected-element")}),t.classList.add("selected-element");var s=p.top,f=u.default.step(s,+r,+o);"ВЫЙТИ"===b.value&&(b.value="НАЗАД"),a(f,s.step+1,s.lookBasis),p.top.view.scrollIntoView(!1)}}},349:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(350);var o=i(n(351)),a=n(95),l=i(n(64)),s=function(){function e(t,n,i,r,a,l,s,u){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var f=document.createElement("div");f.innerHTML=(0,o.default)({step:n,data:i,top:r,left:a,size:l,referenceElements:s,message:u}),this.lookBasis=t,this.step=n,this.n=r.length,this.data=i,this.top=r,this.left=a,this.size=l,this.view=f.firstElementChild}return r(e,[{key:"into",value:function(e){return e.appendChild(this.view),this}},{key:"resize",value:function(e){(0,a.SimplexTable)(this.view.firstElementChild,function(t){return t.size=e}),this.size=e}}],[{key:"getReferenceElements",value:function(e,t,n,i,r,o){for(var a=[],l=[],s=0,u=0;u<t-1;u++)n[e-1][u].isNegative&&a.push(u);if(0===a.length)if(n[e-1][t-1].isZero){s=2;for(var f=0;f<i.length;f++)if(r&&i[f]>o){a.push(i[f]),l=[];for(var c=0;c<top.length;c++)n[i[f]][c].isZero||l.push(c);0===l.length&&(s=4)}}else s=3;else for(var d=0,v=a.length;d<v;d++){for(var h=null,p=!1,m=0;m<e-1;m++)if(n[m][a[d]].isPositive){p=!0;var y=n[m][t-1].div(n[m][a[d]]);h?y.compare(h)<0&&(h=y):h=y}p||(s=1),l[d]=[];for(var w=0;w<e-1;w++)if(!(r&&i[w]<t)&&n[w][a[d]].isPositive){0==n[w][t-1].div(n[w][a[d]]).compare(h)&&l[d].push(w)}}return{code:s,rows:l,cols:a,length:l.length}}},{key:"step",value:function(e,t,n){var i=[],r=Array.from(e.top),o=Array.from(e.left),a=!0,s=!1,u=void 0;try{for(var f,c=e.data[Symbol.iterator]();!(a=(f=c.next()).done);a=!0){var d=f.value;i.push(Array.from(d))}}catch(e){s=!0,u=e}finally{try{!a&&c.return&&c.return()}finally{if(s)throw u}}for(var v=0;v<=r.length;v++)v!=n&&(i[t][v]=i[t][v].div(i[t][n]));for(var h=0;h<=o.length;h++)for(var p=0;p<=r.length;p++)p!=n&&h!=t&&(i[h][p]=i[h][p].sub(i[h][n].mul(i[t][p])));var m=[o[t],r[n]];if(r[n]=m[0],o[t]=m[1],e.lookBasis){r.splice(n,1);var y=!0,w=!1,g=void 0;try{for(var b,E=i[Symbol.iterator]();!(y=(b=E.next()).done);y=!0){b.value.splice(n,1)}}catch(e){w=!0,g=e}finally{try{!y&&E.return&&E.return()}finally{if(w)throw g}}}else{for(var k=0;k<=o.length;k++)k!=t&&(i[k][n]=i[k][n].div(i[t][n].mul(l.default.minusOne)));i[t][n]=l.default.one.div(i[t][n])}return{data:i,top:r,left:o}}}]),e}();t.default=s},350:function(e,t){},351:function(e,t,n){var i=n(31);e.exports=function(e){var t,n="",r=e||{};return function(e,r,o,a,l,s,u,f){let c=u.length,d=r.length;n=n+'<fieldset class="SimplexTable" disabled><table><tr><td>x<sup>('+i.escape(null==(t=s)?"":t)+")</sup></td>";for(let e=0;e<c;e++)n=n+"<td>x<sub>"+i.escape(null==(t=u[e])?"":t)+"</sub></td>";n+="<td></td></tr>";for(let o=0;o<d;o++){n=n+"<tr><td>x<sub>"+i.escape(null==(t=r[o])?"":t)+"</sub></td>";for(let t=0;t<=c;t++){n+="<td>";let r=f,s=void 0;for(let e=0;e<a.length;e++)for(let n of a.rows[e])if(n==o&&a.cols[e]==t){r="reference-element",s=`${n},${a.cols[e]}`;break}n=n+"<input"+(i.attr("class",i.classes([r],[!0]),!1,!0)+i.attr("data-indexes",s,!0,!0))+' type="text"'+i.attr("value",e[o][t],!0,!0)+i.attr("size",l,!0,!0)+"></td>"}n+="</tr>"}n+="<tr><td></td>";for(let t=0;t<=c;t++)n=n+'<td><input type="text"'+i.attr("value",e[d][t],!0,!0)+i.attr("size",l,!0,!0)+"></td>";n+="</tr></table>",o&&(n=n+'<div class="message">'+i.escape(null==(t=o)?"":t)+"</div>"),n+="</fieldset>"}.call(this,"data"in r?r.data:"undefined"!=typeof data?data:void 0,"left"in r?r.left:"undefined"!=typeof left?left:void 0,"message"in r?r.message:"undefined"!=typeof message?message:void 0,"referenceElements"in r?r.referenceElements:"undefined"!=typeof referenceElements?referenceElements:void 0,"size"in r?r.size:"undefined"!=typeof size?size:void 0,"step"in r?r.step:"undefined"!=typeof step?step:void 0,"top"in r?r.top:"undefined"!=typeof top?top:void 0,"undefinIed"in r?r.undefinIed:"undefined"!=typeof undefinIed?undefinIed:void 0),n}},352:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=i(n(353));n(354);var a=i(n(64)),l=function(){function e(t,n,i,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var l=[],s=n.length,u=0;u<s;u++)l.push(r[n[u]-1]);l.push(new a.default(0,1));for(var f=0;f<i.length;f++){for(var c=0;c<s;c++)l[c]=l[c].sub(r[i[f]-1].mul(t[f][c]));l[s]=l[s].add(r[i[f]-1].mul(t[f][s]))}this.bottomRow=l;var d=document.createElement("div");d.innerHTML=(0,o.default)({data:t,top:n,left:i,linearForm:r,bottomRow:l}),d.className="TransitionView",this.view=d,this.bottomRow[s]=this.bottomRow[s].mul(a.default.minusOne)}return r(e,[{key:"into",value:function(e){return e.appendChild(this.view),this}},{key:"resize",value:function(){}}]),e}();t.default=l},353:function(e,t,n){var i=n(31);e.exports=function(e){var t,n="",r={},o=e||{};return function(e,o,a,l,s){let u;r.format=t=function(e,r,o){this&&this.block,this&&this.attributes,e.isZero?n+="<return></return>":(null!=r||null==r&&!e.isZero)&&(e.isPositive?o||(n+="&nbsp;+"):n+="&nbsp;-",o||(n+="&nbsp;"),null==r?n+=i.escape(null==(t=e.abs)?"":t):(e.isOne||(n+=i.escape(null==(t=e.abs)?"":t)),n=n+"x<sub>"+i.escape(null==(t=r)?"":t)+"</sub>"),o&&(u=!1))};for(let e=0;e<a.length;e++){u=!0,n=n+"<p>x<sub>"+i.escape(null==(t=a[e])?"":t)+"</sub> = ",r.format(o[e][0].reflect,s[0],u);for(let t=1;t<=s.length;t++)t==s.length?r.format(o[e][t],s[t],u):r.format(o[e][t].reflect,s[t],u);n+="</p>"}n+='<hr><div class="linear-form">',u=!0,n+="<p>L(x) = ",r.format(l[0],1,u);for(let e=1;e<l.length-1;e++)r.format(l[e],e+1,u);n+="&nbsp;=</p>",u=!0,n+="<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= ",r.format(e[0],s[0],u);for(let t=1;t<e.length;t++)r.format(e[t],s[t],u);n+="</p></div>"}.call(this,"bottomRow"in o?o.bottomRow:"undefined"!=typeof bottomRow?bottomRow:void 0,"data"in o?o.data:"undefined"!=typeof data?data:void 0,"left"in o?o.left:"undefined"!=typeof left?left:void 0,"linearForm"in o?o.linearForm:"undefined"!=typeof linearForm?linearForm:void 0,"top"in o?o.top:"undefined"!=typeof top?top:void 0),n}},354:function(e,t){},355:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e){return e&&e.__esModule?e:{default:e}}(n(356));n(357);var o=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var i=document.createElement("div");i.innerHTML=(0,r.default)({matrix:t,isFirst:n}),this.view=i.firstElementChild}return i(e,[{key:"resize",value:function(){}},{key:"into",value:function(e){return e.appendChild(this.view),this}}]),e}();t.default=o},356:function(e,t,n){var i=n(31);e.exports=function(e){var t,n="",r=e||{};return function(e){n+='<div class="matrix-view"><fieldset disabled><table><tbody>';for(let r of e){n+="<tr>";for(let e of r)n=n+"<td>"+i.escape(null==(t=e)?"":t)+"</td>";n+="</tr>"}n+="</tbody></table></fieldset></div>"}.call(this,"matrix"in r?r.matrix:"undefined"!=typeof matrix?matrix:void 0),n}},357:function(e,t){},64:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t,n){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),0===n){var i=new Error("Знаменатель дроби не может быть равен нулю!");throw window.alert(i.message),i}n<0&&(n*=-1,t*=-1),this.numerator=t,this.denominator=n}return i(e,[{key:"simplify",value:function(){var e=Math.abs(this.numerator),t=this.denominator;if(0===e)return this;for(;0!==t;){var n=[t,e%t];e=n[0],t=n[1]}return this.numerator/=e,this.denominator/=e,this}},{key:"add",value:function(t){return new e(this.numerator*t.denominator+this.denominator*t.numerator,this.denominator*t.denominator).simplify()}},{key:"sub",value:function(t){return new e(this.numerator*t.denominator-this.denominator*t.numerator,this.denominator*t.denominator).simplify()}},{key:"mul",value:function(t){return new e(this.numerator*t.numerator,this.denominator*t.denominator).simplify()}},{key:"div",value:function(t){return new e(this.numerator*t.denominator,this.denominator*t.numerator).simplify()}},{key:"compare",value:function(e){return this.sub(e).numerator}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this.simplify(),1===this.denominator||0===this.numerator?this.numerator:this.numerator+"/"+this.denominator}},{key:"isZero",get:function(){return 0===this.numerator}},{key:"isPositive",get:function(){return this.numerator>0}},{key:"isNegative",get:function(){return this.numerator<0}},{key:"abs",get:function(){return this.isNegative?this.mul(e.minusOne):this}},{key:"isOne",get:function(){return 0===this.abs.compare(e.one)}},{key:"reflect",get:function(){return this.mul(l)}}],[{key:"zero",get:function(){return o}},{key:"one",get:function(){return a}},{key:"minusOne",get:function(){return l}}]),e}();t.default=r;var o=new r(0,1),a=new r(1,1),l=new r(-1,1)},91:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=i(n(341)),a=i(n(92)),l=i(n(93)),s=i(n(94)),u=document.getElementById("files-popup"),f=u.querySelector(".list"),c=document.getElementById("popup-wrap"),d=document.getElementById("waiting-popup"),v=d.querySelector(".message"),h=d.querySelector(".cancel"),p=document.getElementById("file-save"),m=document.getElementById("send"),y=document.getElementById("save-name"),w=document.getElementById("background-block"),g=document.getElementById("solution-wrap");c.onclick=function(e){e.target.classList.contains("cancel")&&(w.classList.add("hidden"),u.classList.add("hidden"),d.classList.add("hidden"),h.classList.add("hidden"),p.classList.add("hidden"))},f.onclick=function(e){var t=e.target;t.classList.contains("file")&&(u.classList.add("hidden"),b.waiting(),fetch("/files/"+t.textContent).then(function(e){if(200!=e.status)throw e;return e.json()}).then(function(e){var t=e.length,n=e[0].length;if(n<3||n>17||t<3||t>17)throw new Error;g.innerHTML="",window.views=new l.default(new s.default(!0,t,n,2,e).into(g)),new a.default(n-1),b.showMessage("Данные успешно загружены!")}).catch(function(e){console.dir(e),e.status?b.showMessage(e.status+": "+e.statusText):b.showMessage("Загружаемый файл имеет неправильный формат!")}))},m.onclick=function(){var e=y.value.trim();p.classList.add("hidden"),b.waiting(),""!==e?fetch("/save",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({name:e,file:window.views[0].getData()})}).then(function(e){200==e.status?b.showMessage("Файл успешно сохранён!"):b.showMessage("Не удалось сохранить файл!")}).catch(function(e){b.showMessage(e.toString())}):b.showMessage("Введено пустое имя файла!")};var b=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"waiting",value:function(){w.classList.remove("hidden"),v.textContent="Ожидание ответа от сервера...",h.classList.add("hidden"),d.classList.remove("hidden")}},{key:"showMessage",value:function(e){w.classList.remove("hidden"),d.classList.remove("hidden"),v.textContent=e,h.classList.remove("hidden")}},{key:"openFileLoadView",value:function(e){d.classList.add("hidden"),u.classList.remove("hidden"),f.innerHTML=(0,o.default)({files:e})}},{key:"openFileSaveView",value:function(){w.classList.remove("hidden"),p.classList.remove("hidden")}}]),e}();t.default=b},92:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=i(n(343));n(344);var a=i(n(91)),l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.n=t,document.getElementById("my-basis").innerHTML=(0,o.default)({n:t})}return r(e,null,[{key:"isValidForm",value:function(e){for(var t=document.forms.settings,n=0,i=window.views[0].n-1,r=0;r<i;r++)t["b"+(r+1)].checked&&n++;return n===e||(a.default.showMessage("Базис должен содержать ровно "+e+" переменныe(ых), а вы выбрали "+n+"!"),!1)}}]),e}();t.default=l},93:function(e,t,n){"use strict";function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];var l=Array.from(o);return l.__proto__=t.prototype,e=l,i(n,e)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Array),r(t,[{key:"clear",value:function(){for(;this.pop(););}},{key:"replace",value:function(){this.clear();for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=!0,r=!1,o=void 0;try{for(var a,l=t[Symbol.iterator]();!(i=(a=l.next()).done);i=!0){var s=a.value;this.push(s)}}catch(e){r=!0,o=e}finally{try{!i&&l.return&&l.return()}finally{if(r)throw o}}}},{key:"top",get:function(){return this[this.length-1]}}]),t}();t.default=o},94:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(345);var o=i(n(346)),a=i(n(131)),l=i(n(132)),s=n(95),u=n(347),f=i(n(348)),c=i(n(64)),d=i(n(92)),v=function(){function e(t,n,i,r){var a=this,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t instanceof e&&(n=t.m,i=t.n,r=t.size,l=t.getData());var c=document.createElement("div");if(c.innerHTML=(0,o.default)({object:"table",configurable:t,m:n,n:i,data:l,size:r}),this.configurable=t,this.size=r,this.m=n,this.n=i,this.view=c.firstElementChild,t){var v=this.view.lastElementChild.previousSibling,h=!0,p=!1,m=void 0;try{for(var y,w=v.children[Symbol.iterator]();!(h=(y=w.next()).done);h=!0){var g=y.value;switch((0,u.addArrow)(g),!0){case g.classList.contains("left"):g.onclick=function(){a.n>3&&(a.removeCol(),new d.default(a.n-1,a.m-1))};break;case g.classList.contains("right"):g.onclick=function(){a.n<17&&(a.addCol(),new d.default(a.n-1,a.m-1))};break;case g.classList.contains("up"):g.onclick=function(){a.m>3&&(a.removeRow(),new d.default(a.n-1,a.m-1))};break;case g.classList.contains("down"):g.onclick=function(){a.m<17&&(a.addRow(),new d.default(a.n-1,a.m-1))}}}}catch(e){p=!0,m=e}finally{try{!h&&w.return&&w.return()}finally{if(p)throw m}}this.view.addEventListener("input",function(e){return e.target.classList.remove("bad-input")},!1),this.view.addEventListener("keydown",function(e){return"Space"===e.code?e.preventDefault():void 0}),this.view.addEventListener("paste",function(e){var t=void 0,n=e.target;e.preventDefault(),n instanceof HTMLInputElement!=!1&&(t=e.clipboardData.getData("text").replace(/ /g,""),n.value=n.value.slice(0,n.selectionStart)+t+n.value.slice(n.selectionEnd))}),document.getElementById("count").onclick=function(){if("СБП"!=document.forms.settings.basis.value||d.default.isValidForm(a.m-1)){var e=!1;(0,s.InputView)(a.view.firstElementChild,function(t,n,i){0===t.value.length||0===n&&i===a.n-1||/(^(-)??\d+?([.,]\d+?)??$)|(^(-)??\d+?\/\d+?$)/.test(t.value)||(t.classList.add("bad-input"),e=!0)}),e||(0,f.default)(a)}},document.getElementById("reset").onclick=function(){(0,s.InputView)(document.getElementById("solution-wrap").firstElementChild.firstElementChild,function(e,t,n){0==t&&n==a.n-1?e.value="min":(e.value="",e.classList.remove("bad-input"))})}}}return r(e,[{key:"into",value:function(e){return e.appendChild(this.view),this}},{key:"resize",value:function(e){var t=this;(0,s.InputView)(this.view.firstElementChild,function(n,i,r){0===i&&r===t.n-1||(n.size=e)}),this.size=e}},{key:"getData",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=[],i=-1;return(0,s.InputView)(this.view.firstElementChild,function(r,o,a){if(i<o&&(n.push([]),i=o),!t||0===o&&a===e.n-1)return n[o].push(r.value);var l=r.value,s=l.indexOf("/");if(s>-1)n[o].push(new c.default(+l.slice(0,s),+l.slice(s+1)));else if(-1==(s=l.indexOf(".")))if((s=l.indexOf(","))>-1){var u=+l.slice(0,s),f=+l.slice(s+1),d=Math.pow(10,f.toString().length);n[o].push(new c.default(u*d+f,d))}else n[o].push(new c.default(+l,1))}),n}},{key:"addRow",value:function(){var e=document.createElement("div");e.innerHTML=(0,a.default)({object:"row",n:this.n,size:this.size}),this.m++,this.view.firstElementChild.appendChild(e)}},{key:"removeRow",value:function(){this.view.firstElementChild.removeChild(this.view.firstElementChild.lastElementChild),this.m--}},{key:"addCol",value:function(){var e=this,t=this.getData();t.forEach(function(t){return t.splice(e.n-1,0,"")}),this.view.firstElementChild.innerHTML=(0,a.default)({object:"table",configurable:this.configurable,n:++this.n,m:this.m,size:this.size,data:t}),this.view.lastElementChild.innerHTML=(0,l.default)({n:this.n})}},{key:"removeCol",value:function(){var e=this,t=this.getData();t.forEach(function(t){return t.splice(e.n-2,1)}),this.view.firstElementChild.innerHTML=(0,a.default)({object:"table",configurable:this.configurable,n:--this.n,m:this.m,size:this.size,data:t}),this.view.lastElementChild.innerHTML=(0,l.default)({n:this.n})}},{key:"removeArrowsHandlers",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,r=Array.from(this.view.lastElementChild.previousSibling.children)[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){var o=i.value;(0,u.removeArrow)(o)}}catch(e){t=!0,n=e}finally{try{!e&&r.return&&r.return()}finally{if(t)throw n}}}}]),e}();t.default=v},95:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InputView=function(e,t){for(var n=e.children,i=0,r=n.length;i<r;i++)for(var o=n[i].children,a=0,l=o.length,s=0;s<l;s++){var u=o[s];u instanceof HTMLSpanElement||(t(u,i,a),a++)}},t.SimplexTable=function(e,t){for(var n=e.rows,i=1,r=n.length;i<r;i++)for(var o=n[i].cells,a=1,l=o.length;a<l;a++)t(o[a].firstElementChild,i-1,a-1)}}},[336]);